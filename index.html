
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;php&quot;,&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="php">php</a>
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#trip-type" class="toc-h1 toc-link" data-title="Trip type">Trip type</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#trip-type-object" class="toc-h2 toc-link" data-title="Trip type object">Trip type object</a>
                  </li>
                  <li>
                    <a href="#get-trip-type-object" class="toc-h2 toc-link" data-title="Get trip type object">Get trip type object</a>
                  </li>
                  <li>
                    <a href="#update-trip-type-availability" class="toc-h2 toc-link" data-title="Update trip type availability">Update trip type availability</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/arcticres/arctic-api'>PHP Framework</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Arctic Reservations offers a REST API that allows reading and writing information from installations. You can use the API to connect third party software, develop custom tools or build additional website integration.</p>

<p>We have a flexible <a href="https://github.com/arcticres/arctic-api">PHP implementation of the API</a>, but the documentation provides more general instructions should you want to implement a custom implementation or use a different language.</p>

<p>This documentation is a new project, and is in the early stages. More information will be added soon.</p>
<h1 id='trip-type'>Trip type</h1><h2 id='trip-type-object'>Trip type object</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"businessgroupid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"parenttripid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subtripstartoffset"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"starttime"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio Grande Float"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"shortname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RGF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#a7194b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"openings"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"72:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"registrationformid"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"orenable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"orname"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ordescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ordetails"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"orimageid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"orcutoff"</span><span class="p">:</span><span class="w"> </span><span class="s2">"168:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"orminimumguests"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"registrationcutoffdays"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"attachsameasparent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountid"</span><span class="p">:</span><span class="w"> </span><span class="mi">39</span><span class="p">,</span><span class="w">
    </span><span class="s2">"paymentplanid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancellationpolicyid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"createdon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-29 12:22:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modifiedon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-30 17:18:35"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"createdbyuserid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"evaluationid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"socialsite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trip"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pricinglevels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"parenttable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TripTypes"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"parentid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adult"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"uniquename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adult"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500.00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"invoicesubitems"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"showonline"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-29 12:22:01"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"modifiedon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-29 12:22:01"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"parenttable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TripTypes"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"parentid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Youth"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"uniquename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Youth"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18 and under"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"390.00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"invoicesubitems"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"showonline"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-29 12:22:01"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"modifiedon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-29 12:22:01"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"components"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"parenttable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TripTypes"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"parentid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"T-shirt"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"uniquename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"T-shirt"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"addto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"member"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"optional"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"setname"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"showonline"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"onlinedescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Arctic Reservations T-shirt"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orimageid"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"isdefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25.00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"accountid"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
            </span><span class="s2">"openings"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"inventoryitemid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rentalitems"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-29 12:22:01"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"modifiedon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-23 12:08:08"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The <code>triptype</code> object describes an Arctic trip type. Trip types describe a standard itinerary, and are used to create individual trips on the calendar. The trip type defines standard pricing, add-ons and information, which can then be customized on a per-trip basis.</p>
<h3 id='attributes'>Attributes</h3>
<p>The response returns a trip type object. </p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>businessgroupid</td>
<td>int</td>
<td>The business group that contains the trip type.</td>
</tr>
<tr>
<td>parenttripid</td>
<td>int</td>
<td>If this is a sub trip type, references the ID of the parent trip type. Used for selling portions of longer trips.</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>A unique ID for the trip type.</td>
</tr>
<tr>
<td>subtripstartoffset</td>
<td>time or null</td>
<td>For sub trip types, the start time offset for the sub trip.</td>
</tr>
<tr>
<td>starttime</td>
<td>time or null</td>
<td>For parent trips, the default start time.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the trip type.</td>
</tr>
<tr>
<td>shortname</td>
<td>string</td>
<td>Optionally, a short name for the trip type.</td>
</tr>
<tr>
<td>color</td>
<td>string</td>
<td>The hex color associated with the trip type.</td>
</tr>
<tr>
<td>openings</td>
<td>int</td>
<td>The number of openings for the trip type.</td>
</tr>
<tr>
<td>duration</td>
<td>time</td>
<td>The duration of the trip.</td>
</tr>
<tr>
<td>registrationformid</td>
<td>int</td>
<td>The registration form associated with trip type.</td>
</tr>
<tr>
<td>orenable</td>
<td>boolean</td>
<td>Whether or not the trip accepts online reservations.</td>
</tr>
<tr>
<td>orname</td>
<td>string</td>
<td>An alternative name to use when showing the trip type online.</td>
</tr>
<tr>
<td>ordescription</td>
<td>string</td>
<td>An online description.</td>
</tr>
<tr>
<td>ordetails</td>
<td>string</td>
<td>Details to show during the online booking process.</td>
</tr>
<tr>
<td>orimageid</td>
<td>int</td>
<td>An image associated with the trip type to show online.</td>
</tr>
<tr>
<td>orcutoff</td>
<td>time</td>
<td>The time before the trip starts that online reservations should be disabled.</td>
</tr>
<tr>
<td>orminimumguests</td>
<td>int</td>
<td>The minimum number of guests required for booking an empty trip.</td>
</tr>
<tr>
<td>registrationcutoffdays</td>
<td>int</td>
<td>The number of days before the trip starts to cutoff online registration.</td>
</tr>
<tr>
<td>attachsameasparent</td>
<td>bool</td>
<td>For sub trip types, use the same attachments as the parent trip type.</td>
</tr>
<tr>
<td>notes</td>
<td>string</td>
<td>Trip type notes.</td>
</tr>
<tr>
<td>accountid</td>
<td>int</td>
<td>The account ID used for revenue for this trip type.</td>
</tr>
<tr>
<td>paymentplanid</td>
<td>int</td>
<td>The payment plan associated with the trip type.</td>
</tr>
<tr>
<td>socialsite</td>
<td>string</td>
<td>(Optional.) If present, when the social site becomes available. Either at &quot;reservation&quot; or after the &quot;trip&quot;.</td>
</tr>
<tr>
<td>cancellationpolicyid</td>
<td>int</td>
<td>The cancellation policy associated with the trip type.</td>
</tr>
<tr>
<td>evaluationid</td>
<td>int</td>
<td>(Optional.) The evaluation associated with the trip type.</td>
</tr>
<tr>
<td>createdon</td>
<td>datetime</td>
<td>The creation date.</td>
</tr>
<tr>
<td>modifiedon</td>
<td>datetime</td>
<td>The modified date.</td>
</tr>
<tr>
<td>deleted</td>
<td>bool</td>
<td>If the trip type was deleted.</td>
</tr>
<tr>
<td>pricinglevels</td>
<td>array</td>
<td>An array of <a href="#trip-pricing-level-object">pricing level objects</a>.</td>
</tr>
<tr>
<td>components</td>
<td>array</td>
<td>An array of <a href="#trip-add-on-object">add-on objects</a>.</td>
</tr>
</tbody></table>
<h2 id='get-trip-type-object'>Get trip type object</h2>
<p>This endpoint allows you to batch update availability information for a trip type. The request includes an array of trip start dates and times. By default, Arctic will make the necessary changes so that the trip calendar in Arctic matches the provided list of start dates and times, including creating trips, updating openings and canceling trips.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'init.i.php'</span><span class="p">;</span>

<span class="nv">$trip_type</span> <span class="o">=</span> <span class="nx">\Arctic\Model\Trip\TripType</span><span class="o">::</span><span class="na">load</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://outfitter.arcticres.com/api/rest/triptype/1"</span>
  -H <span class="s2">"Authorization: Bearer token"</span>
</code></pre>
<blockquote>
<p>The above request returns a trip type object.</p>
</blockquote>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://outfitter.arcticres.com/api/rest/triptype/&lt;id&gt;</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>int</td>
<td><em>required</em></td>
<td>The ID of the trip type.</td>
</tr>
</tbody></table>
<h3 id='response-attributes'>Response Attributes</h3>
<p>The response returns a <a href="#trip-type-object">trip type object</a>.</p>
<h2 id='update-trip-type-availability'>Update trip type availability</h2>
<p>This endpoint allows you to batch update availability information for a trip type. The request includes an array of trip start dates and times. By default, Arctic will make the necessary changes so that the trip calendar in Arctic matches the provided list of start dates and times, including creating trips, updating openings and canceling trips.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'init.i.php'</span><span class="p">;</span>

<span class="nv">$trip_type</span> <span class="o">=</span> <span class="nx">\Arctic\Model\Trip\TripType</span><span class="o">::</span><span class="na">load</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$trip_type</span><span class="o">-&gt;</span><span class="na">updateAvailability</span><span class="p">([</span>
    <span class="s1">'range'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'start'</span> <span class="o">=&gt;</span> <span class="s1">'2019-03-15'</span><span class="p">,</span>
        <span class="s1">'end'</span> <span class="o">=&gt;</span> <span class="s1">'2019-12-15'</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'trips'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s1">'openings'</span> <span class="o">=&gt;</span> <span class="mi">16</span><span class="p">,</span>
            <span class="s1">'notes'</span> <span class="o">=&gt;</span> <span class="s1">'Testing'</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s1">'start'</span> <span class="o">=&gt;</span> <span class="s1">'2019-05-01'</span><span class="p">,</span>
            <span class="s1">'openings'</span> <span class="o">=&gt;</span> <span class="mi">20</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s1">'start'</span> <span class="o">=&gt;</span> <span class="s1">'2019-06-01'</span><span class="p">,</span>
            <span class="s1">'openings'</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">]</span>
<span class="p">]);</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://outfitter.arcticres.com/api/rest/triptype/1/availability"</span>
  -H <span class="s2">"Authorization: Bearer token"</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -d @request.json
</code></pre>
<blockquote>
<p>The availability function takes a JSON payload. For example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-15"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-15"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"trips"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-01 14:00:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"openings"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
            </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Testing"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-01 14:00:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"openings"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-01 13:00:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"openings"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>The above request might generate the following response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">743</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">745</span><span class="p">,</span><span class="w">
            </span><span class="s2">"delta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"openings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">747</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">749</span><span class="p">,</span><span class="w">
            </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-23 00:00:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"has_reservations"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://outfitter.arcticres.com/api/rest/triptype/&lt;id&gt;/availability</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>int</td>
<td><em>required</em></td>
<td>The ID of the trip type.</td>
</tr>
</tbody></table>
<h3 id='body-attributes'>Body Attributes</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>create</td>
<td>boolean</td>
<td><code>true</code></td>
<td>Trip starts in &quot;trips&quot; that do not exist in Arctic should be created.</td>
</tr>
<tr>
<td>update</td>
<td>boolean</td>
<td><code>true</code></td>
<td>Trip starts in &quot;trips&quot; that have different availability or notes should be updated.</td>
</tr>
<tr>
<td>cancel</td>
<td>boolean</td>
<td><code>true</code></td>
<td>Trip starts in Arctic that do not exist in &quot;trips&quot; should be canceled. If any trips have reservations, an alert will appear on the dashboard to notify reservationists.</td>
</tr>
<tr>
<td>simulate</td>
<td>boolean</td>
<td><code>false</code></td>
<td>If true, the update will only be simulated. The result object will return the changes that are pending.</td>
</tr>
<tr>
<td>range</td>
<td>object</td>
<td></td>
<td>By default, the availability update will effect all trips starting now indefinitely into the future.</td>
</tr>
<tr>
<td>trips</td>
<td>array</td>
<td><em>required</em></td>
<td>An array of &quot;trip&quot; objects.</td>
</tr>
</tbody></table>
<h4 id='body-range-object'>Body: <code>range</code> Object</h4>
<p>If you want to apply to the update to a specific time range, include a &quot;start&quot; and &quot;end&quot; date or date time, specifying the range to update.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start</td>
<td>date or datetime</td>
<td><em>required</em></td>
<td>Start of the range to update.</td>
</tr>
<tr>
<td>end</td>
<td>date or datetime</td>
<td><em>required</em></td>
<td>End of the range to update. If &quot;end&quot; is a date, it is inclusive. If &quot;end&quot; is a datetime, it is exclusive.</td>
</tr>
</tbody></table>
<h4 id='body-trip-object'>Body: <code>trip</code> Object</h4>
<p>The <code>trips</code> array contains 0 or more trips. The trip object describes when the trip starts and how many openings it has.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start</td>
<td>date or datetime</td>
<td><em>required</em></td>
<td>The start date or the start date and time of the trip.</td>
</tr>
<tr>
<td>openings</td>
<td>int</td>
<td></td>
<td>Number of openings the trip should have.</td>
</tr>
<tr>
<td>remainingopenings</td>
<td>int</td>
<td></td>
<td>Number of openings the trip should have that are still available.</td>
</tr>
<tr>
<td>notes</td>
<td>string</td>
<td></td>
<td>A note about the trip.</td>
</tr>
</tbody></table>

<p>The <code>trip</code> object can either specifying <code>openings</code> or <code>remainingopenings</code>, but not both. If neither are specified, the openings will not be changed (the default openings will be used when creating trips).</p>
<h3 id='response-attributes'>Response Attributes</h3>
<p>The response has a result array where each entry specifies what action was taken for the provided list of trip start dates and times. Additional result entries will be added for trips that existed in Arctic, but were not in the provided list, and as a result were canceled.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>results</td>
<td>array</td>
<td>An array of &quot;result&quot; objects.</td>
</tr>
</tbody></table>
<h4 id='response-result-object'>Response: <code>result</code> Object</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>action</td>
<td>string</td>
<td>One of &quot;create&quot; (trip created), &quot;update&quot; (trip updated), &quot;cancel&quot; (trip canceled) or &quot;nothing&quot; (if the relevant action was disabled in the request).</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>The ID of the trip that was created, updated or canceled (not available when simulating creations).</td>
</tr>
<tr>
<td>delta</td>
<td>object</td>
<td>An object describing the changes when updating a trip.</td>
</tr>
<tr>
<td>start</td>
<td>date or datetime</td>
<td>The date or datetime of the trip (when canceling a trip).</td>
</tr>
<tr>
<td>has_reservations</td>
<td>boolean</td>
<td>Whether or not a trip had reservations (when canceling a trip).</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="php">php</a>
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
